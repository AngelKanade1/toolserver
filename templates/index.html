<html>
  <head>
    <title>test</title>
    <script src="https://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" language="jscript">
      function getRadioValue(name){
        var radios = document.getElementsByName(name);        
        for (var i=0;i<radios.length;i++){
          if(radios[i].checked){
            return radios[i].value;
          }
        }
        return null;
      }
      window.onload = function () {          
        var btn = document.getElementById('btn');                  
        btn.onclick = function () {    
          var ajax = null;         
          if(window.XMLHttpRequest){   
                 ajax = new XMLHttpRequest();     
           }else{              
                 ajax = new ActiveXObject('Microsoft.XMLHTTP');               
           }           
           var rare = getRadioValue("rare");
           var techtype = getRadioValue("techtype");
           var before = getRadioValue("before");
           var after = getRadioValue("after");
           var nowfragment = document.getElementById('nowfragment').value;                  
    
           var posturl = 'upgradecost';  
           ajax.open('post',posturl,true);   
           ajax.setRequestHeader('Content-Type','application/x-www-form-urlencoded');  
           var postParam = 'rare='+rare+'&techtype='+techtype+'&before='+before+'&after='+after+'&nowfragment='+nowfragment;               
           ajax.send(postParam);     
           ajax.onreadystatechange=function()
            {
              if (ajax.readyState==4 && ajax.status==200)
              {
                console.log(ajax.responseText)
                $("#result").html($.parseJSON(ajax.responseText).data)
              }
            }    
      }      
    }    
    </script>
  </head>
  <body>
    <p><b>科技稀有度: </b>
      <input type="radio" name="rare"  id="blue" value="blue" checked=checked /><label for="blue">蓝</label> 
      <input type="radio" name="rare" id="purple" value="purple"/> <label for="purple">紫</label> 
      <input type="radio" name="rare" id="orange" value="orange"/> <label for="orange">橙</label>  
      <br/></p>

    <p><b>科技类型: </b>
      <input type="radio" name="techtype"  id="idea" value="idea" checked=checked /><label for="idea">策略科技</label> 
      <input type="radio" name="techtype" id="normal" value="normal"/> <label for="normal">普通科技</label> 
      <input type="radio" name="techtype" id="lock" value="lock"/> <label for="lock">解锁科技</label>  
      <br/></p>

    <p><b>当前等级: </b>
      <input type="radio" name="before" value="0" checked=checked /><label>0</label>
      <input type="radio" name="before" value="1" /> <label>1</label>
      <input type="radio" name="before" value="2" /> <label>2</label>
      <input type="radio" name="before" value="3" /> <label>3</label>
      <input type="radio" name="before" value="4" /> <label>4</label>
      <input type="radio" name="before" value="5" /> <label>5</label>
      <input type="radio" name="before" value="6" /> <label>6</label>
      <input type="radio" name="before" value="7" /> <label>7</label>
      <input type="radio" name="before" value="8" /> <label>8</label>
      <input type="radio" name="before" value="9" /> <label>9</label>
      <input type="radio" name="before" value="10"/> <label>10</label>
      <input type="radio" name="before" value="11"/> <label>11</label>
      <br/></p>

    <p><b>目标等级: </b>
      <input type="radio" name="after" value="0"   checked=checked /><label>0</label>
      <input type="radio" name="after" value="1" /> <label>1</label>
      <input type="radio" name="after" value="2" /> <label>2</label>
      <input type="radio" name="after" value="3" /> <label>3</label>
      <input type="radio" name="after" value="4" /> <label>4</label>
      <input type="radio" name="after" value="5" /> <label>5</label>
      <input type="radio" name="after" value="6" /> <label>6</label>
      <input type="radio" name="after" value="7" /> <label>7</label>
      <input type="radio" name="after" value="8" /> <label>8</label>
      <input type="radio" name="after" value="9" /> <label>9</label>
      <input type="radio" name="after" value="10"/> <label>10</label>
      <input type="radio" name="after" value="11"/> <label>11</label>
      <br/></p>
    
    <p><b>当前碎片: </b><input type="text" name="nowfragment" id="nowfragment"/><br/></p>

    <p><input type="submit" value="提交" id="btn">   </p>

    <p id="result">
      输出结果
    </p>

  </body>
</html>